<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>cookie编码解码</title>
<script>
    function setcookie(name,value){
	    window.document.cookie=name+"="+escape(value)+";";
	    alert("设置成功！");
	}
	function getcookie(cookieName,codeFind){
		var cookiestring=document.cookie;
		var star=cookiestring.indexOf(cookieName+'=');
		if(star==-1)
		return null;
		star+=cookieName.length+1;
		var end=cookiestring.indexOf(';',star);
		if(codeFind==1){
			return unescape(cookiestring.substring(star));
			return unescape(cookiestring.substring(star,end));
		}else{
			if(end==-1)
			return unescape(cookiestring.substring(star));
			return unescape(cookiestring.substring(star,end));
		}
	}
	function setvalue(){
		if(Name.value!==""){
			setcookie(Name.value,Value.value);
			Name.value="";
			Value.value="";
		}else{
			alert("设置失败！");
		}
	}
	function getvalue(n){
		if(Name.value==""){
		    alert("你没有输入要查找的cookie名");	
		}else{
		    var str=getcookie(Name.value,n);
			if(str!=""){
				Value.value=str;
			}else{
				Value.value="该值为空！";
		    }
		}
	}
</script>
</head>

<body>
cookie名：
<input type="text" name="Name"/>
<br />
cookie值：
<input type="text" name="Value" />
<p>
<input type="submit" name="Submit" value="设置cookie" onclick="setvalue()"/>
&nbsp;&nbsp;
<input type="submit" name="Submit2" value="查询cookie" onclick="getvalue(1)"/>
&nbsp;&nbsp;
<input type="submit" name="Submit3" value="非解码查询" onclick="getvalue(0)"/>
<p/>
</body>
</html>
